---
title: "CATS_cam_EDA"
author: "JHMoxley"
date: "9/13/2018"
output: pdf_document
params: 
  dd: "/Volumes/Avalon"               #deploy drive
  deploy.key: "APT_CC0704_20180803"   #deploy ID
  datFreq: 50 #Hz                     #motion sensing sampling res
  datFreq.desired: 1 #Hz              #downsampled res
  smoothing: 5                        #number seconds to smooth traces
  SI: FALSE                           #extract files from SI converted dB
  sensors: !r c("acc", "mag")
---
This is a generalized EDA document for quickly working up biologging deployments returned from CATS tags on White Sharks.  Test built on APT_CC0705_07182018, based on EDA files associated with this deployment. 

rmarkdown::render('CATS_preprocess_RMrkD.Rmd',params= list( deploy.key = "APT_CC0705_07182018"))

```{r}
params
```


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
source("tag_fxns.R")
library(tidyverse)
setwd(file.path(params$dd, params$deploy.key))
#create EDA folder??

#load in data
ifelse(isTRUE(params$SI), 
       print("reading in SI converted data"),
       print("reading in RAW data"))
dat <- load.in2(dir = ifelse(isTRUE(params$SI),
             str_subset(list.dirs(), "(SI)"),
             getwd()), 
             sensors = params$sensors, fstop = 2)
```

## Smoothing, isolation & manipulation

```{r}
library(gRumble)
df <- dat$dat
dat$dat$depth <- stats::filter(subset(dat$dat, select = dat$sensors$depth[1]))
```

## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
